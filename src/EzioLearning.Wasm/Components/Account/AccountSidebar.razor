@using System.Security.Claims
@using EzioLearning.Domain.Common
@using EzioLearning.Wasm.Utils.Common
@inherits AccountComponentBase
<!-- sidebar -->
<div class="col-xl-3 col-md-4 theiaStickySidebar">
    <div class="settings-widget dash-profile mb-3">
        <div class="settings-menu p-0">
            <div class="profile-bg">
                @* <h5>Beginner</h5> *@
                <img src="assets/img/profile-bg.jpg" alt="">
                <div class="profile-img">
                    <NavLink href="@AccountInfoMinimal.Avatar" target="_blank">
                        <img src="@AccountInfoMinimal.Avatar" alt="" class="account-avatar">
                    </NavLink>
                </div>
            </div>
            @{
                var roles = AuthenticationState.User.Claims
                .Where(c => c.Type.Equals(ClaimTypes.Role))
                .Select(c => c.Value)
                .ToList();
            }
            <div class="profile-group">
                <div class="profile-name text-center">
                    <h4 class="account-name">
                        @AccountInfoMinimal.FullName
                    </h4>

                    @if (roles.Any())
                    {
                        <p>@string.Join(",", roles)</p>
                    }
                </div>
                @*  <div class="go-dashboard text-center">
                <a href="deposit-student-dashboard.html" class="btn btn-primary">Go to Dashboard</a>
                </div> *@
            </div>
        </div>
    </div>
    <div class="settings-widget account-settings">
        <div class="settings-menu">
            <MudNavMenu>
                @if (AuthenticationState.User.IsInRole(RoleConstants.Admin) || AuthenticationState.User.IsInRole(RoleConstants.Teacher))
                {
                    <MudNavGroup Title="Dashboard" Icon="@Icons.Material.Filled.Dashboard">
                        <MudNavLink Match="NavLinkMatch.All" Class="nav-link" Href="@RouteConstants.DevLater">
                            <i class="feather-home"></i> My Dashboard
                        </MudNavLink>
                        <MudNavLink Match="NavLinkMatch.All" Class="nav-link" Href="@RouteConstants.DevLater">
                            <i class="feather-home"></i> My Dashboard
                        </MudNavLink>

                        <MudNavLink Match="NavLinkMatch.All" Class="nav-link" Href="@RouteConstants.DevLater">
                            <i class="feather-home"></i> My Dashboard
                        </MudNavLink>

                        <MudNavLink Match="NavLinkMatch.All" Class="nav-link" Href="@RouteConstants.DevLater">
                            <i class="feather-home"></i> My Dashboard
                        </MudNavLink>

                        <MudNavLink Match="NavLinkMatch.All" Class="nav-link" Href="@RouteConstants.DevLater">
                            <i class="feather-home"></i> My Dashboard
                        </MudNavLink>
                    </MudNavGroup>
                }

                <MudNavGroup Title="Cài đặt tài khoản" Icon="@Icons.Material.Filled.ManageAccounts">
                    <MudNavLink href="@RouteConstants.Account.Home" Match="NavLinkMatch.All" Class="nav-link" Icon="@Icons.Material.Filled.Info">
                        Thông tin
                    </MudNavLink>

                    <MudNavLink href="@RouteConstants.Account.Security" Match="NavLinkMatch.All" Class="nav-link" Icon="@Icons.Material.Filled.Security">
                        Bảo mật
                    </MudNavLink>

                    <MudNavLink href="@RouteConstants.Account.Delete" Match="NavLinkMatch.All" Class="nav-link" Icon="@Icons.Material.Filled.NoAccounts">
                        Xoá tài khoản
                    </MudNavLink>


                    <MudNavLink href="@RouteConstants.Logout" Match="NavLinkMatch.All" Class="nav-link" Icon="@Icons.Material.Filled.Logout">
                        Đăng xuất
                    </MudNavLink>


                </MudNavGroup>
            </MudNavMenu>

        </div>
    </div>
</div>
<!-- /sidebar -->