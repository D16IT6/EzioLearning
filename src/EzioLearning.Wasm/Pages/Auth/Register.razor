@layout EmptyLayout

@using DataJuggler.Blazor.FileUpload
@using EzioLearning.Wasm.Components.Auth
@using EzioLearning.Core.Dtos.Validators.Auth

@attribute [Route(RouteConstants.Register)]
<div class="row">

    <LoginSlide></LoginSlide>

    <div class="col-md-6 login-wrap-bg">
        <!-- Signup -->
        <div class="login-wrapper">
            <div class="loginbox">
                <div class="img-logo">
                    <img src="assets/img/logo.svg" class="img-fluid" alt="Logo">
                    <div class="back-home">
                        <NavLink Match="NavLinkMatch.All" href="@RouteConstants.Home">Về trang chủ</NavLink>
                    </div>
                </div>
                <h1>Đăng ký</h1>
                <EditForm Enhance="true" FormName="frmRegister" Model="RegisterModel" OnValidSubmit="OnValidSubmitRegisterForm">
                    <FluentValidationValidator Validator="new RegisterRequestClientValidator()" />
                    <DataAnnotationsValidator />
                    <div class="row">
                        <div class="col-xxl-6">
                            <div class="input-block">
                                <label class="form-control-label">Họ</label>
                                <InputText @bind-Value="RegisterModel.FirstName" type="text" class="form-control" placeholder="Họ của bạn" />
                                <ValidationMessage For="() => RegisterModel.FirstName" class="text-danger mt-1 ms-1"></ValidationMessage>
                            </div>
                        </div>

                        <div class="col-xxl-6">
                            <div class="input-block">
                                <label class="form-control-label">Tên</label>
                                <InputText @bind-Value="RegisterModel.LastName" type="text" class="form-control" placeholder="Tên của bạn" />
                                <ValidationMessage For="() => RegisterModel.LastName" class="text-danger mt-1 ms-1"></ValidationMessage>

                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xxl-6">
                            <div class="input-block">
                                <label class="form-control-label">Email</label>
                                <InputText @bind-Value="RegisterModel.Email" type="email" class="form-control" placeholder="Địa chỉ email của bạn" disabled="@DisabledEmail" />
                                <ValidationMessage For="() => RegisterModel.Email" class="text-danger mt-1 ms-1"></ValidationMessage>

                            </div>
                        </div>
                        <div class="col-xxl-6">
                            <div class="input-block">
                                <label class="form-control-label">Số điện thoại</label>
                                <InputText @bind-Value="RegisterModel.PhoneNumber" type="text" class="form-control" placeholder="Số điện thoại của bạn" />
                                <ValidationMessage For="() => RegisterModel.PhoneNumber" class="text-danger mt-1 ms-1"></ValidationMessage>

                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xxl-6">
                            <div class="input-block">
                                <label class="form-control-label">Ngày sinh</label>
                                <InputDate @bind-Value="RegisterModel.DateOfBirth" fo class="form-control" placeholder="Ngày sinh của bạn" />
                                <ValidationMessage For="() => RegisterModel.DateOfBirth" class="text-danger mt-1 ms-1"></ValidationMessage>
                            </div>
                        </div>

                        <div class="col-xxl-6">
                            <div class="input-block">
                                <label class="form-control-label">Ảnh đại diện</label>
                                <InputFile @bind-Value="RegisterModel.Avatar" OnChange="LoadFile" accept="" placeholder="Ảnh đại diện" class="pt-3 form-control" />
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="input-block">
                                <label class="form-control-label">Tài khoản</label>
                                <InputText @bind-Value="RegisterModel.UserName" fo class="form-control" placeholder="Tên đăng nhập của bạn" />
                                <ValidationMessage For="() => RegisterModel.UserName" class="text-danger mt-1 ms-1" />
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xxl-6">
                            <div class="input-block">
                                <label class="form-control-label">Mật khẩu</label>
                                <InputText type="password" @bind-Value="RegisterModel.Password" fo class="form-control" placeholder="Ngày sinh của bạn" />
                                <ValidationMessage For="() => RegisterModel.Password" class="text-danger mt-1 ms-1" />

                            </div>

                        </div>
                        <div class="col-xxl-6">
                            <div class="input-block">
                                <label class="form-control-label">Mật khẩu xác nhận</label>
                                <InputText type="password" @bind-Value="RegisterModel.ConfirmPassword" fo class="form-control" placeholder="Ngày sinh của bạn" />
                                <ValidationMessage For="() => RegisterModel.ConfirmPassword" class="text-danger mt-1 ms-1" />

                            </div>
                        </div>
                    </div>

                    <div class="form-check remember-me">
                        <label class="form-check-label mb-0">
                            <InputCheckbox @bind-Value="RegisterModel.AllowPolicy" class="form-check-input" type="checkbox" name="remember" />
                            Tôi đồng ý với
                            <NavLink Match="NavLinkMatch.All" href="@RouteConstants.TermCondition">
                                điều khoản dịch vụ
                            </NavLink>
                            và
                            <NavLink Match="NavLinkMatch.All" href="@RouteConstants.PrivacyPolicy">
                                chính sách bảo mật.
                            </NavLink>

                            <ValidationMessage For="() => RegisterModel.AllowPolicy" class="text-danger mt-1"></ValidationMessage>
                        </label>
                    </div>
                    <div class="d-grid">
                        <button class="btn btn-primary btn-start" type="submit" disable="@DisableSubmitButton">@SubmitButtonText</button>
                    </div>
                </EditForm>
            </div>
            

            <div class="google-bg text-center">
                <span><a href="#">Hoặc đăng ký với</a></span>
                
                <ExternalProvider></ExternalProvider>

                <p class="mb-0">
                    Đã có tài khoản?
                    <NavLink Match="NavLinkMatch.All" href="@RouteConstants.Login">
                        Đăng nhập
                    </NavLink>
                </p>
            </div>
        </div>
    </div>
</div>
<!-- /Login -->
