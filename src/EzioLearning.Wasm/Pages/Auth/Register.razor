@using EzioLearning.Wasm.Components.Auth
@using EzioLearning.Share.Validators.Auth
@layout EmptyLayout

@attribute [Route(RouteConstants.Register)]
<div class="row">

    <LoginSlide />

    <div class="col-md-6 login-wrap-bg">
        <!-- Signup -->
        <div class="login-wrapper">
            <div class="loginbox">
                <div class="img-logo">
                    <img src="assets/img/logo.svg" class="img-fluid" alt="Logo">
                    <div class="back-home">
                        <NavLink Match="NavLinkMatch.All" href="@RouteConstants.Home">Về trang chủ</NavLink>
                    </div>
                </div>
                <h1>Đăng ký</h1>
                <EditForm Enhance="true" FormName="frmRegister" Model="RegisterModel" OnValidSubmit="OnValidSubmitRegisterForm">
                    <FluentValidationValidator Validator="new RegisterRequestClientValidator()"/>
                    <div class="row">
                        <div class="col-xxl-6">
                            <div class="input-block">
                                <label class="form-label">Họ</label>
                                <InputText @bind-Value="RegisterModel.FirstName" type="text" class="form-control" placeholder="Họ của bạn"/>
                                <ValidationMessage For="() => RegisterModel.FirstName" class="text-danger mt-1 ms-1"/>
                            </div>
                        </div>

                        <div class="col-xxl-6">
                            <div class="input-block">
                                <label class="form-label">Tên</label>
                                <InputText @bind-Value="RegisterModel.LastName" type="text" class="form-control" placeholder="Tên của bạn"/>
                                <ValidationMessage For="() => RegisterModel.LastName" class="text-danger mt-1 ms-1"/>

                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xxl-6">
                            <div class="input-block">
                                <label class="form-label">Email</label>
                                <InputText @bind-Value="RegisterModel.Email" type="email" class="form-control" placeholder="Địa chỉ email của bạn" disabled="@DisabledEmail"/>
                                <ValidationMessage For="() => RegisterModel.Email" class="text-danger mt-1 ms-1"/>

                            </div>
                        </div>
                        <div class="col-xxl-6">
                            <div class="input-block">
                                <label class="form-label">Số điện thoại</label>
                                <InputText @bind-Value="RegisterModel.PhoneNumber" type="text" class="form-control" placeholder="Số điện thoại của bạn"/>
                                <ValidationMessage For="() => RegisterModel.PhoneNumber" class="text-danger mt-1 ms-1"/>

                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xxl-6">
                            <div class="input-block">
                                <label class="form-label">Ngày sinh</label>
                                @* <InputDate @bind-Value="RegisterModel.DateOfBirth" fo class="form-control" placeholder="Ngày sinh của bạn"/> *@
                                <MudDatePicker @bind-Date="RegisterModel.DateOfBirth" fo class="form-control" DateFormat="dd/MM/yyyy" id="register-birthday" MaxDate="DateTime.UtcNow.AddYears(-10)"/>
                                <ValidationMessage For="() => RegisterModel.DateOfBirth" class="text-danger mt-1 ms-1"/>
                            </div>
                        </div>

                        <div class="col-xxl-6">
                            <div class="input-block">
                                <label class="form-label">Ảnh đại diện</label>
                                <InputFile @bind-Value="RegisterModel.Avatar" OnChange="LoadFile" accept="@string.Join(',', AcceptTypes)" placeholder="Ảnh đại diện" class="pt-3 form-control"/>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="input-block">
                                <label class="form-label">Tài khoản</label>
                                <InputText @bind-Value="RegisterModel.UserName" fo class="form-control" placeholder="Tên đăng nhập của bạn"/>
                                <ValidationMessage For="() => RegisterModel.UserName" class="text-danger mt-1 ms-1"/>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xxl-6">
                            <div class="input-block">
                                <label class="form-label">Mật khẩu</label>
                                <InputText type="password" @bind-Value="RegisterModel.Password" fo class="form-control" placeholder="Ngày sinh của bạn"/>
                                <ValidationMessage For="() => RegisterModel.Password" class="text-danger mt-1 ms-1"/>

                            </div>

                        </div>
                        <div class="col-xxl-6">
                            <div class="input-block">
                                <label class="form-label">Mật khẩu xác nhận</label>
                                <InputText type="password" @bind-Value="RegisterModel.ConfirmPassword" fo class="form-control" placeholder="Ngày sinh của bạn"/>
                                <ValidationMessage For="() => RegisterModel.ConfirmPassword" class="text-danger mt-1 ms-1"/>

                            </div>
                        </div>
                    </div>

                    <div class="form-check remember-me">
                        <label class="form-check-label mb-0">
                            <InputCheckbox @bind-Value="RegisterModel.AllowPolicy" class="form-check-input" type="checkbox" name="remember"/>
                            Tôi đồng ý với
                            <NavLink Match="NavLinkMatch.All" href="@RouteConstants.TermCondition">
                                điều khoản dịch vụ
                            </NavLink>
                            và
                            <NavLink Match="NavLinkMatch.All" href="@RouteConstants.PrivacyPolicy">
                                chính sách bảo mật.
                            </NavLink>

                            <ValidationMessage For="() => RegisterModel.AllowPolicy" class="text-danger mt-1"></ValidationMessage>
                        </label>
                    </div>
                    <div class="d-grid">
                        <button class="btn btn-primary btn-start" type="submit" disable="@DisableSubmitButton">@SubmitButtonText</button>
                    </div>
                </EditForm>
            </div>


            <div class="google-bg text-center">
                <span>Hoặc đăng ký với</span>

                <ExternalProvider></ExternalProvider>

                <p class="mb-0">
                    Đã có tài khoản?
                    <NavLink Match="NavLinkMatch.All" href="@RouteConstants.Login">
                        Đăng nhập
                    </NavLink>
                </p>
            </div>
        </div>
    </div>
</div>
<!-- /Login -->