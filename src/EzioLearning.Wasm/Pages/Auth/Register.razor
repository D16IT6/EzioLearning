@using EzioLearning.Wasm.Components.Auth
@layout EmptyLayout
@inherits  EzioLearning.Wasm.Utils.Extensions.AuthComponentBase
@attribute [Route(RouteConstants.Register)]
<div class="row">

    <LoginSlide />

    <div class="col-md-6 login-wrap-bg">
        <!-- Signup -->
        <div class="login-wrapper">
            <div class="loginbox">
                <div class="img-logo">
                    <img src="assets/img/logo.svg" class="img-fluid" alt="Logo">
                    <div class="back-home">
                        <NavLink Match="NavLinkMatch.All" href="@RouteConstants.Index">
                            @Localizer.GetString("BackHome")
                        </NavLink>
                    </div>
                </div>
                <h1>@Localizer.GetString("Title")</h1>
                <EditForm Enhance="true" FormName="frmRegister" Model="RegisterModel" OnValidSubmit="OnValidSubmitRegisterForm">
                    <FluentValidationValidator />
                    <div class="row">
                        <div class="col-xxl-6">
                            <div class="input-block">
                                <label class="form-label">@Localizer.GetString("FirstNameLabel")</label>
                                <InputText @bind-Value="RegisterModel.FirstName" type="text" class="form-control" />
                                <ValidationMessage For="() => RegisterModel.FirstName" class="text-danger mt-1 ms-1"/>
                            </div>
                        </div>

                        <div class="col-xxl-6">
                            <div class="input-block">
                                <label class="form-label">@Localizer.GetString("LastNameLabel")</label>
                                <InputText @bind-Value="RegisterModel.LastName" type="text" class="form-control" />
                                <ValidationMessage For="() => RegisterModel.LastName" class="text-danger mt-1 ms-1"/>

                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xxl-6">
                            <div class="input-block">
                                <label class="form-label">@Localizer.GetString("EmailLabel")</label>
                                <InputText @bind-Value="RegisterModel.Email" type="email" class="form-control" disabled="@DisabledEmail"/>
                                <ValidationMessage For="() => RegisterModel.Email" class="text-danger mt-1 ms-1"/>

                            </div>
                        </div>
                        <div class="col-xxl-6">
                            <div class="input-block">
                                <label class="form-label">@Localizer.GetString("PhoneLabel")</label>
                                <InputText @bind-Value="RegisterModel.PhoneNumber" type="text" class="form-control" />
                                <ValidationMessage For="() => RegisterModel.PhoneNumber" class="text-danger mt-1 ms-1"/>

                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xxl-6">
                            <div class="input-block">
                                <label class="form-label">@Localizer.GetString("DateOfBirthLabel")</label>
                                <MudDatePicker @bind-Date="RegisterModel.DateOfBirth" 
                                               fo 
                                               class="form-control" 
                                               DateFormat="dd/MM/yyyy" 
                                               id="register-birthday" 
                                               MaxDate="DateTime.UtcNow.AddYears(-10)"/>
                                <ValidationMessage For="() => RegisterModel.DateOfBirth" class="text-danger mt-1 ms-1"/>
                            </div>
                        </div>

                        <div class="col-xxl-6">
                            <div class="input-block">
                                <label class="form-label">@Localizer.GetString("AvatarLabel")</label>
                                <InputFile 
                                    @bind-Value="RegisterModel.Avatar" 
                                    OnChange="LoadFile" accept="@string.Join(',', AcceptTypes)" 
                                    class="pt-3 form-control"/>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="input-block">
                                <label class="form-label">@Localizer.GetString("UserNameLabel")</label>
                                <InputText @bind-Value="RegisterModel.UserName" fo class="form-control"/>
                                <ValidationMessage For="() => RegisterModel.UserName" class="text-danger mt-1 ms-1"/>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xxl-6">
                            <div class="input-block">
                                <label class="form-label">@Localizer.GetString("PasswordLabel")</label>
                                <InputText type="password" @bind-Value="RegisterModel.Password" fo class="form-control" />
                                <ValidationMessage For="() => RegisterModel.Password" class="text-danger mt-1 ms-1"/>

                            </div>

                        </div>
                        <div class="col-xxl-6">
                            <div class="input-block">
                                <label class="form-label">@Localizer.GetString("PasswordConfirmLabel")</label>
                                <InputText type="password" @bind-Value="RegisterModel.ConfirmPassword" fo class="form-control" />
                                <ValidationMessage For="() => RegisterModel.ConfirmPassword" class="text-danger mt-1 ms-1"/>

                            </div>
                        </div>
                    </div>

                    <div class="form-check remember-me">
                        <label class="form-check-label mb-0">
                            <InputCheckbox @bind-Value="RegisterModel.AllowPolicy" class="form-check-input" type="checkbox" name="remember"/>
                            @Localizer.GetString("AllowPolicyLabel1")
                            <NavLink Match="NavLinkMatch.All" href="@RouteConstants.TermCondition">
                                @Localizer.GetString("AllowPolicyLabel2")
                            </NavLink>
                            &
                            <NavLink Match="NavLinkMatch.All" href="@RouteConstants.PrivacyPolicy">
                                @Localizer.GetString("AllowPolicyLabel3")
                            </NavLink>

                            <ValidationMessage For="() => RegisterModel.AllowPolicy" class="text-danger mt-1"/>
                        </label>
                    </div>
                    <div class="d-grid">
                        <button class="btn btn-primary btn-start" type="submit" disable="@DisableSubmitButton">@SubmitButtonText</button>
                    </div>
                </EditForm>
            </div>


            <div class="google-bg text-center">
                <span>
                    @Localizer.GetString("ExternalTitle")
                </span>

                <ExternalProvider />

                <p class="mb-0">
                    @Localizer.GetString("OldUser")
                    <NavLink Match="NavLinkMatch.All" href="@RouteConstants.Login">
                        @Localizer.GetString("LoginText")

                    </NavLink>
                </p>
            </div>
        </div>
    </div>
</div>
<!-- /Login -->